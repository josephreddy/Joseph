<div class="bgcolor">
    <div class="bcrumbs">
        <h2>Events
        </h2>
    </div>
    <div class="container">
        <button class="btn btn-success pull-right" *ngIf="currentUser!=null && currentUser.RoleID==1" (click)="openAddEvent()">
            <i class="fa fa-plus"></i> Add Event</button>
        <!-- <mat-form-field class="full-width">
            <input matInput placeholder="Search" (keyup)="applyFilter($event.target.value)">
        </mat-form-field> -->
        <input type="text" class="form-control searchPosition" (keyup)="applyFilter($event.target.value)" placeholder="Search">
        <div class="space20"></div>
        <div class="mat-elevation-z8" style="overflow: auto;">
            <table mat-table [dataSource]="dataSource" matSort>
                <ng-container matColumnDef="ImageUrl">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Image </th>
                    <td mat-cell *matCellDef="let row">
                        <img class="img-circle" src="{{row.ImageUrl}}" style="height: 40px;width: 40px;" /> </td>
                </ng-container>

                <ng-container matColumnDef="Note">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Note </th>
                    <td mat-cell *matCellDef="let row"> {{row.Note}} </td>
                </ng-container>
                <ng-container matColumnDef="DateCreated">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date Created</th>
                    <td mat-cell *matCellDef="let row"> {{row.DateCreated |date:"dd/MM/yyyy hh:mm a"}} </td>
                </ng-container>
                <ng-container matColumnDef="DateModified">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date Modified</th>
                    <td mat-cell *matCellDef="let row"> {{row.DateModified |date:"dd/MM/yyyy hh:mm a"}} </td>
                </ng-container>

                <ng-container matColumnDef="Actions">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let row" class="text-center">
                        <button class="btn btn-primary waves-effect" (click)="openEditImage(row)">
                            <span md-tooltip="tooltip" title="Edit" mdTooltipPosition="before">
                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </span>
                        </button>
                    </td>
                </ng-container>
                <ng-container matColumnDef="Actions1">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let row" class="text-center">
                        <button class="btn btn-danger waves-effect" (click)="onDeleteClick(row)">
                            <span md-tooltip="tooltip" title="Delete" mdTooltipPosition="before">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </span>
                        </button>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                </tr>
            </table>
            <div style="background-color: white">
                <div [hidden]="!isLoadingResults" class="text-center">
                    <i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>
                    <h5>
                        Loading Please Wait..
                    </h5>
                    <span class="sr-only"></span>
                </div>

                <!-- <div class="clearfix space20"></div> -->
                <div class="text-center" [hidden]="!(dataSource.data.length==0&&!isLoadingResults)">
                    No Records Found</div>
            </div>
            <mat-paginator [pageSizeOptions]="[ 10, 25, 100]"></mat-paginator>
        </div>
    </div>
</div>