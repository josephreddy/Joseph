{
  "version": 3,
  "file": "alyle-ui-menu.umd.min.js",
  "sources": [
    "ng://@alyle/ui/menu/out/menu.ts",
    "ng://@alyle/ui/menu/out/menu.module.ts"
  ],
  "sourcesContent": [
    "import { BehaviorSubject } from 'rxjs';\nimport {\n  Component,\n  ElementRef,\n  forwardRef,\n  NgModule,\n  Input,\n  Output,\n  Directive,\n  SimpleChange,\n  OnChanges,\n  HostBinding,\n  OnInit,\n  ModuleWithProviders,\n  AfterContentInit,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n  Optional,\n  QueryList,\n  ContentChildren,\n  HostListener,\n  AfterViewInit,\n  EventEmitter,\n  OnDestroy,\n  ChangeDetectionStrategy,\n  ComponentRef,\n  ChangeDetectorRef,\n  SimpleChanges\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  group\n} from '@angular/animations';\nimport { DomService, LxDomModule, Platform } from '@alyle/ui';\nimport {\n  NG_VALUE_ACCESSOR,\n  ControlValueAccessor,\n  FormsModule,\n} from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nexport type position = 'left' | 'right' | 'top' | 'bottom' | 'center' | 'middle';\nexport class Origin {\n  horizontal: position;\n  vertical: position;\n}\n\n@Component({\n  selector: 'ly-template-menu',\n  template: `\n  <div #container></div>\n  `,\n  styles: [`\n    :host {\n      position: absolute;\n      display: block;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n  `]\n})\nexport class LyTemplateMenu implements OnInit, OnDestroy {\n  @ViewChild('container', { read: ViewContainerRef }) _vcr: ViewContainerRef;\n  constructor(public _viewContainerRef: ViewContainerRef) { }\n\n  ngOnInit() {\n  }\n  tmpl(template: TemplateRef<any>) {\n    this._vcr.createEmbeddedView(template);\n  }\n  ngOnDestroy() {\n    console.log('desst');\n  }\n}\n\n@Component({\n  selector: 'ly-menu',\n  styles: [`.ly-menu{display:inline-block;position:fixed;padding:8px 0;max-height:248px;overflow:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1000;opacity:0;min-width:84px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;-webkit-transform:scale3d(0,0,0);transform:scale3d(0,0,0);-webkit-box-shadow:rgba(0,0,0,.15) 0 2px 6px,rgba(0,0,0,.15) 0 1px 4px;box-shadow:rgba(0,0,0,.15) 0 2px 6px,rgba(0,0,0,.15) 0 1px 4px;border-radius:2px;-webkit-transition:opacity 275ms ease-in 0s,-webkit-transform 175ms cubic-bezier(.23,1,.32,1) 0s;transition:opacity 275ms ease-in 0s,-webkit-transform 175ms cubic-bezier(.23,1,.32,1) 0s;transition:transform 175ms cubic-bezier(.23,1,.32,1) 0s,opacity 275ms ease-in 0s;transition:transform 175ms cubic-bezier(.23,1,.32,1) 0s,opacity 275ms ease-in 0s,-webkit-transform 175ms cubic-bezier(.23,1,.32,1) 0s;will-change:opacity,transform;font-family:Roboto,\"Helvetica Neue\",sans-serif}.ly-list-x{z-index:0;max-height:100%}.ly-menu /deep/ ly-menu{position:absolute}.ly-menu.ly-list{position:relative;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);-webkit-transition:all 0s linear 0s;transition:all 0s linear 0s}:host.ly-list .ly-menu{position:relative;-webkit-transform:scale(1,1);transform:scale(1,1);-webkit-transition:all 0s linear 0s;transition:all 0s linear 0s;opacity:1}:host.ly-list .ly-background-menu{pointer-events:none}.ly-menu.ly-menu-opened{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);opacity:1}.ly-background-menu{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,0);z-index:999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.ly-background-on{pointer-events:all!important;pointer-events:auto!important}::ng-deep button[ly-menu-item]{display:block;min-height:48px;border-radius:0;width:100%}`],\n  animations: [\n    trigger('menu', [\n      transition(':leave', animate('150ms 50ms linear', style({opacity: 0}))),\n      state('in', style({\n        opacity: 1\n      })),\n      transition(':enter', animate('100ms linear'))\n    ])\n  ],\n  template: `\n  <ng-template>\n    <div #_menu [@menu]=\"menuAnimationsState\"\n      class=\"ly-menu\"\n      bg=\"menu:bg\"\n      color=\"colorText\"\n      [style.transform-origin]=\"targetOrigin\"\n      [style.top.px]=\"rootStyle.top + rootStylePosition.top\"\n      [style.left.px]=\"rootStyle.left + rootStylePosition.left\"\n      [style.transform]=\"_targetPosition | async\">\n      <div class=\"ly-menu-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n    <div\n    class=\"ly-background-menu ly-background-on\"\n    (click)=\"hiddeMenu()\"></div>\n  </ng-template>\n  `,\n  exportAs: 'lyMenu',\n  preserveWhitespaces: false\n})\nexport class LyMenu implements OnChanges, AfterViewInit, OnInit, OnDestroy {\n  isIni = false;\n  _color: string;\n  stateBg = false;\n  widthTarget = 0;\n  heightTarget = 0;\n\n  rootMenu: any = {\n    top: 0,\n    left: 0,\n  };\n  xtemplateRef: any;\n  menuAnimationsState;\n  @Input() opened = false;\n  @Input('anchor-origin') _anchorOrigin: Origin = {horizontal: 'left', vertical: 'top'};\n  @Input('target-origin') _targetOrigin: Origin = {horizontal: 'left', vertical: 'top'};\n  @ViewChild('_menu') _menuElement: ElementRef;\n  @ViewChild(TemplateRef) templateRef: TemplateRef<any>;\n  _targetPosition: BehaviorSubject<string> = new BehaviorSubject<string>(null);\n\n  @Output() open: EventEmitter<any> = new EventEmitter();\n  @Output() close: EventEmitter<any> = new EventEmitter();\n  private menuContentElement: HTMLElement;\n  private menuContentRef;\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['_targetOrigin']) {\n      Promise.resolve(null).then(() => {\n        if (true) {\n          // console.log('changes[target-origin]', changes['_targetOrigin']);\n        }\n      });\n    }\n  }\n\n  updateTargetPosition() {\n    let vertical = '0%',\n    horizontal = '0%';\n    if (this._targetOrigin.horizontal === 'middle') {\n      horizontal = '-50%';\n    } else if (this._targetOrigin.horizontal === 'right') {\n      horizontal = '-100%';\n    }\n    if (this._targetOrigin.vertical === 'center') {\n      vertical = '-50%';\n    } else if (this._targetOrigin.vertical === 'bottom') {\n      vertical = '-100%';\n    }\n    const menuStyle = this.sanitizer.bypassSecurityTrustStyle(`translate3d(${horizontal}, ${vertical}, 0) scale3d(1, 1, 1)`);\n    this._targetPosition.next(menuStyle as string);\n  }\n  // get size\n  target(_element: any) {\n    const element: HTMLElement = _element;\n    return {\n      'width': element.offsetWidth || 0,\n      'height': element.offsetHeight || 0,\n      'left': element.offsetWidth || 0,\n      'top': 0,\n    };\n  }\n  get rootStylePosition() {\n    let top: any = 0;\n    let left: any = 0;\n    // let topTarget: any = 0;\n    // let leftTarget: any = 0;\n\n    // for _anchorOrigin\n    if (this._anchorOrigin.vertical === 'center') {\n      // anchor origin\n      top = (this.rootMenu.height / 2);\n    } else if (this._anchorOrigin.vertical === 'bottom') {\n      top = (this.rootMenu.height);\n    }\n    if (this._anchorOrigin.horizontal === 'middle') {\n      // anchor origin\n      left = (this.rootMenu.width / 2);\n    } else if (this._anchorOrigin.horizontal === 'right') {\n      left = (this.rootMenu.width);\n    }\n\n    // // for target origing\n    // if (this._targetOrigin.vertical == 'center') {\n    //   // anchor origin\n    //   topTarget = -(this.heightTarget / 2);\n    // } else if (this._targetOrigin.vertical == 'bottom') {\n    //   topTarget = -(this.heightTarget);\n    // }\n    // if (this._targetOrigin.horizontal == 'middle') {\n    //   // leftTarget = (this.target(this._menuElement).width / 2);\n    //   leftTarget = -(this.widthTarget / 2);\n    // } else if (this._targetOrigin.horizontal == 'right') {\n    //   // leftTarget = (this.target(this._menuElement).width);\n    //   leftTarget = -(this.widthTarget);\n    // }\n    return {\n      top: top,\n      left: left,\n      // topTarget: topTarget,\n      // leftTarget: leftTarget,\n    };\n  }\n  get rootStyle(): any {\n    const menuPosition: any = this.rootMenu;\n    const positionFinal: any = menuPosition;\n\n    if (this._anchorOrigin) {\n\n\n    }\n\n    return positionFinal;\n  }\n  get targetOrigin(): string {\n    return `${\n      this._targetOrigin.horizontal === 'middle' ? 'center' : this._targetOrigin.horizontal\n    } ${this._targetOrigin.vertical} 0`;\n  }\n  toggleMenu() {\n    this.opened === false ? this.showMenu() : this.hiddeMenu();\n  }\n  showMenu() {\n    this.menuAnimationsState = 'in';\n    this.menuContentRef = this.domService.attach<LyTemplateMenu>(this._viewContainerRef, LyTemplateMenu, this.templateRef);\n    // this.menuContentElement = this.domService.getDomElementFromComponentRef(this.menuContentRef);\n    // this.domService.addChild(this.menuContentElement);\n    this.updateTargetPosition();\n    this.opened = true;\n    this.stateBg = true;\n    this.open.emit(null);\n  }\n  hiddeMenu() {\n    this.close.emit(null);\n    this.opened = false;\n    this.stateBg = false;\n    // this.menuAnimationsState = 'end';\n    this._destroyMenu();\n  }\n\n  private _destroyMenu(): void {\n    // if (this.menuContentRef) {\n      this.domService.destroyRef(this.menuContentRef, 0);\n    // }\n  }\n\n  constructor(\n    private elementRef: ElementRef,\n    private _viewContainerRef: ViewContainerRef,\n    private domService: DomService,\n    private cd: ChangeDetectorRef,\n    private sanitizer: DomSanitizer\n  ) { }\n  ngOnInit() {\n\n  }\n\n  ngAfterViewInit() {\n\n  }\n  ngOnDestroy() {\n    if (Platform.isBrowser) {\n      this._destroyMenu();\n    }\n  }\n\n}\n@Directive({\n  selector: '[lyMenuTriggerFor]',\n  // tslint:disable-next-line:use-host-property-decorator\n  host: {\n    '(click)': '_handleClick($event)'\n  }\n})\nexport class LyMenuTriggerFor {\n  @Input('lyMenuTriggerFor') lyMenuTriggerFor: LyMenu;\n  constructor(private elementRef: ElementRef) {}\n\n  targetPosition() {\n    const element: HTMLElement = this.elementRef.nativeElement;\n    const rect: ClientRect = element.getBoundingClientRect();\n    const result = {\n      'width': rect.width,\n      'height': rect.height,\n      'left': rect.left,\n      'top': rect.top,\n    };\n    return result;\n  }\n\n  _handleClick(e: Event) {\n    this.lyMenuTriggerFor.rootMenu = this.targetPosition();\n    this.lyMenuTriggerFor.toggleMenu();\n  }\n\n}\n",
    "import { LyMenuTriggerFor, LyTemplateMenu } from './menu';\nimport { LyMenu } from './menu';\nimport { LyCommonModule, LxDomModule } from '@alyle/ui';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from'@angular/core';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, LyCommonModule, LxDomModule],\n  exports: [LyMenu, LyMenuTriggerFor],\n  declarations: [LyMenu, LyMenuTriggerFor, LyTemplateMenu],\n})\nexport class LyMenuModule { }\n"
  ],
  "names": [
    "Origin",
    "LyTemplateMenu",
    "_viewContainerRef",
    "this",
    "prototype",
    "ngOnInit",
    "tmpl",
    "template",
    "_vcr",
    "createEmbeddedView",
    "ngOnDestroy",
    "console",
    "log",
    "type",
    "Component",
    "args",
    "selector",
    "styles",
    "ViewContainerRef",
    "ViewChild",
    "read",
    "LyMenu",
    "elementRef",
    "domService",
    "cd",
    "sanitizer",
    "isIni",
    "stateBg",
    "widthTarget",
    "heightTarget",
    "rootMenu",
    "top",
    "left",
    "opened",
    "_anchorOrigin",
    "horizontal",
    "vertical",
    "_targetOrigin",
    "_targetPosition",
    "BehaviorSubject",
    "open",
    "EventEmitter",
    "close",
    "ngOnChanges",
    "changes",
    "Promise",
    "resolve",
    "then",
    "updateTargetPosition",
    "menuStyle",
    "bypassSecurityTrustStyle",
    "next",
    "target",
    "_element",
    "element",
    "width",
    "offsetWidth",
    "height",
    "offsetHeight",
    "Object",
    "defineProperty",
    "get",
    "positionFinal",
    "toggleMenu",
    "showMenu",
    "hiddeMenu",
    "menuAnimationsState",
    "menuContentRef",
    "attach",
    "templateRef",
    "emit",
    "_destroyMenu",
    "destroyRef",
    "ngAfterViewInit",
    "Platform",
    "isBrowser",
    "animations",
    "trigger",
    "transition",
    "animate",
    "style",
    "opacity",
    "state",
    "exportAs",
    "preserveWhitespaces",
    "ElementRef",
    "DomService",
    "ChangeDetectorRef",
    "DomSanitizer",
    "Input",
    "_menuElement",
    "TemplateRef",
    "Output",
    "LyMenuTriggerFor",
    "targetPosition",
    "rect",
    "nativeElement",
    "getBoundingClientRect",
    "_handleClick",
    "e",
    "lyMenuTriggerFor",
    "Directive",
    "host",
    "(click)",
    "LyMenuModule",
    "NgModule",
    "imports",
    "CommonModule",
    "FormsModule",
    "LyCommonModule",
    "LxDomModule",
    "exports",
    "declarations"
  ],
  "mappings": "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"
}
