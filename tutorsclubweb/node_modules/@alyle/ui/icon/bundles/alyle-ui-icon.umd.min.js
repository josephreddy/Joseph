!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common"),require("rxjs/operators"),require("@alyle/ui")):"function"==typeof define&&define.amd?define("ly.icon",["exports","@angular/core","@angular/common/http","@angular/common","rxjs/operators","@alyle/ui"],t):t((e.ly=e.ly||{},e.ly.icon={}),e.ng.core,e.ng.common.http,e.ng.common,e.rxjs.operators,e.ly.core)}(this,function(e,t,n,r,o,i){"use strict";var s=function(){function e(e,t){this.http=e,this.document=t,this.svgMap=new Map}return e.prototype.setSvg=function(e,t){var n=this;this.svgMap.has(e)||(t+=".svg",this.svgMap.set(e,{obs:this.http.get(t,{responseType:"text"}).pipe(o.share(),o.map(function(e){return n.textToSvg(e)}))}))},e.prototype.textToSvg=function(e){var t=this.document.createElement("DIV");return t.innerHTML=e,t.querySelector("svg")},e.prototype.getSvg=function(e){return this.svgMap.get(e)},e}();s.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],s.ctorParameters=function(){return[{type:n.HttpClient},{type:undefined,decorators:[{type:t.Optional},{type:t.Inject,args:[r.DOCUMENT]}]}]},s.ngInjectableDef=t.defineInjectable({factory:function(){return new s(t.inject(n.HttpClient),t.inject(r.DOCUMENT,8))},token:s,providedIn:"root"});var c=function(e){var t=this;this.theme=e,this.classes={root:this.theme.setStyle("root",function(){return"font-size:"+t.theme.palette.icon.fontSize+";width:1em;height:1em;display:inline-flex;"}),svg:this.theme.setRootStyle("_svg",function(){return"width:inherit;height:inherit;fill:currentColor;"})}};c.decorators=[{type:t.Injectable,args:[i.ProvidedInTheme]}],c.ctorParameters=function(){return[{type:i.LyTheme}]},c.ngInjectableDef=t.defineInjectable({factory:function(){return new c(t.inject(i.LyTheme))},token:c,providedIn:i.AlyleUIModule});var a=function(){function e(e,t,n,r){this.iconService=e,this.elementRef=t,this.renderer=n,this.iconStyle=r,this._defaultClass="material-icons",n.addClass(t.nativeElement,this.iconStyle.classes.root)}return Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(e){if(this._src=e,i.Platform.isBrowser){if(e){var t="_url:"+e;this.iconService.setSvg(t,e),this._prepareSvgIcon(this.iconService.getSvg(t))}}else this._appendDefaultSvgIcon()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(e){this._icon=e,i.Platform.isBrowser?this._prepareSvgIcon(this.iconService.getSvg(e)):this._appendDefaultSvgIcon()},enumerable:!0,configurable:!0}),e.prototype._isDefault=function(){return!(this.src||this.icon)},e.prototype._prepareSvgIcon=function(e){var t=this;e.obs.pipe(o.take(1)).subscribe(function(e){t._cleanIcon(),t._appendChild(e)})},e.prototype._appendChild=function(e){e.classList.add(this.iconStyle.classes.svg),this.renderer.appendChild(this.elementRef.nativeElement,e)},e.prototype._appendDefaultSvgIcon=function(){this._appendChild(this.iconService.textToSvg('<svg viewBox="0 0 20 20"><circle cx="10" cy="10" r="10"></circle></svg>'))},e.prototype._updateClass=function(){this._isDefault()&&this.renderer.addClass(this.elementRef.nativeElement,this._defaultClass)},e.prototype.ngOnInit=function(){this._updateClass()},e.prototype.ngOnChanges=function(e){this._updateClass()},e.prototype._cleanIcon=function(){var e=this.elementRef.nativeElement.querySelector("svg");e&&this.renderer.removeChild(this.elementRef,e)},e}();a.decorators=[{type:t.Directive,args:[{selector:"ly-icon"}]}],a.ctorParameters=function(){return[{type:s},{type:t.ElementRef},{type:t.Renderer2},{type:c}]},a.propDecorators={src:[{type:t.Input}],icon:[{type:t.Input}]};var p=function(){};p.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule],declarations:[a],exports:[a]}]}],e.LyIconModule=p,e.LyIconService=s,e.LyIconStyle=c,e.Icon=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-icon.umd.min.js.map
