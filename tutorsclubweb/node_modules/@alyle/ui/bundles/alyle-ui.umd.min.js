!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("chroma-js"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ly.core",["exports","@angular/core","@angular/common","chroma-js","rxjs","rxjs/operators"],t):t((e.ly=e.ly||{},e.ly.core={}),e.ng.core,e.ng.common,e.chroma,e.rxjs,e.rxjs.operators)}(this,function(t,s,r,n,c,u){"use strict";function o(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var i="#fff",h={name:"default",primary:{"default":"#2196F3",contrast:i},accent:{"default":"#ff4b73",contrast:i},warn:{"default":"#FF5252",contrast:i},scheme:"light",typography:{fontFamily:"'Roboto', sans-serif",fontSize:14},colorSchemes:{light:{background:{"default":"#fafafa",primary:"#fff",secondary:"#fafafa",tertiary:"#f5f5f5",base:"#E0E0E0"},text:{"default":"rgba(0, 0, 0, 0.87)",primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",colorShadow:"#777777",button:{disabled:"rgba(0, 0, 0, 0.11)"},radio:{radioOuterCircle:"rgba(0, 0, 0, 0.43)"},menu:{bg:"#fff"},drawer:{backdrop:"rgba(0,0,0,.6)"},bar:"#f5f5f5",input:{label:"rgba(0, 0, 0, 0.4)",underline:"rgba(0, 0, 0, 0.11)"}},dark:{primary:{"default":"#9c27b0",contrast:i},accent:{"default":"#ffeb3b",contrast:"rgba(0, 0, 0, 0.87)"},warn:{"default":"#f44336",contrast:"rgba(0, 0, 0, 0.87)"},background:{"default":"#303030",primary:"#424242",secondary:"#303030",tertiary:"#212121",base:"#0E0E0E"},text:{"default":"#fff",primary:"#fff",secondary:"rgba(255, 255, 255, 0.70)",disabled:"rgba(255, 255, 255, 0.50)",hint:"rgba(255, 255, 255, 0.50)"},button:{disabled:"rgba(255, 255, 255, 0.30)"},radio:{radioOuterCircle:"rgba(255, 255, 255, 0.55)"},menu:{bg:"#424242"},drawer:{backdrop:"rgba(49,49,49,.6)"},bar:"#212121",divider:"rgba(255, 255, 255, 0.12)",colorShadow:"rgba(0, 0, 0, 1)",input:{label:"rgba(255, 255, 255, 0.4)",underline:"rgba(255, 255, 255, 0.11)"}}},iconButton:{size:"48px"},icon:{fontSize:"24px"},input:{withColor:"primary"}},a=new s.InjectionToken("ly.theme.variables"),p=new s.InjectionToken("ly.is.root"),d=function(e){this.themeName=e},f=function(){},y="undefined"!=typeof Intl&&Intl.v8BreakIterator,g=function e(){this.EDGE=e.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=e.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=e.isBrowser&&!(!window.chrome&&!y)&&!!CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=e.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=e.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.FIREFOX=e.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=e.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=e.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};g.isBrowser="object"==typeof document&&!!document;var m=function(){function e(e,t){var r;this.rendererFactory=t,this.themeRootMap=new Map,this.themeMap=new Map,this.themes=new Map,this.renderer=this.rendererFactory.createRenderer(null,null),g.isBrowser&&(r=window.document.querySelector("ly-core-theme"))?this.rootContainer=r:(this.rootContainer=this.renderer.createElement("ly-core-theme"),this.renderer.insertBefore(e.body,this.rootContainer,e.body.firstElementChild))}return e.prototype.registerTheme=function(e){return this.themeMap.has(e.name)||(this.themeMap.set(e.name,new Map),this.themes.set(e.name,e)),{map:this.themeMap.get(e.name),palette:this.themes.get(e.name)}},e.prototype.getTheme=function(e){return this.themes.get(e)},e}();m.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],m.ctorParameters=function(){return[{type:undefined,decorators:[{type:s.Inject,args:[r.DOCUMENT]}]},{type:s.RendererFactory2}]},m.ngInjectableDef=s.defineInjectable({factory:function(){return new m(s.inject(r.DOCUMENT),s.inject(s.RendererFactory2))},token:m,providedIn:"root"});var b,v=0;b=g.isBrowser?"ly_":"l";var S=function(){function e(e,t,r,n){this.isRoot=t,this.document=r,this.rootService=n;var o=C(h,e),i=o,a=this.rootService.registerTheme(i);if(!a.palette.colorSchemes[a.palette.scheme])throw new Error("scheme "+a.palette.scheme+" not exist in "+a.palette.name);this._styleMap=a.map,this.palette=C.apply(void 0,l([a.palette,{scheme:e.scheme}],a.palette.colorSchemes[o.scheme])),this.themeName=o.name,this.Id=""+this.themeName,this.setCoreStyle()}return e.prototype.getClassKey=function(e,t){return this.Id+"-"+e.replace(":","__")+"-"+t},e.prototype.setScheme=function(e){var t=this.rootService.getTheme(this.palette.name);this.palette=C.apply(void 0,l([t],t.colorSchemes[e],[{scheme:e}])),this.updateOthersStyles()},e.prototype.colorOf=function(e){return function(e,t){for(var r=t instanceof Array?t:t.split(":"),n=0;n<r.length;n++)e=e[r[n]]||t;return"string"==typeof e?e:e["default"]}(this.palette,e)},e.prototype.getColorv2=function(e,t,r){var n=t||this.palette;return n[e]?"string"==typeof n[e].color||"string"==typeof n[e]?n[e].color||n[e]:n[e].color[r]:e},e.prototype.setStyle=function(e,t){var r=w(e+this.Id+this.palette.scheme),n=this._styleMap;return this._createStyle(e,r,t,n,this.Id)},e.prototype.setRootStyle=function(e,t){var r=w(e),n=this.rootService.themeRootMap;return this._createStyle(e,r,t,n,"root")},e.prototype._createStyle=function(e,t,r,n,o){var i={key:t,fn:r};if(n.has(t))return n.get(t).id;if(g.isBrowser&&(i.styleContainer=this.document.body.querySelector('ly-core-theme style[data-key="'+t+'"]')))i.styleContent=i.styleContainer.innerHTML,i.id=i.styleContainer.dataset.id;else{v++,i.id=""+b+v.toString(36),i.styleContainer=this.rootService.renderer.createElement("style");var a=this.createStyleContent(i);i.styleContent=a,this.rootService.renderer.appendChild(i.styleContainer,i.styleContent),this.rootService.renderer.appendChild(this.rootService.rootContainer,i.styleContainer),g.isBrowser||(this.rootService.renderer.setAttribute(i.styleContainer,"data-key",""+t),this.rootService.renderer.setAttribute(i.styleContainer,"data-id",""+i.id))}return n.set(t,i),i.id},e.prototype.createStyleContent=function(e){return this.rootService.renderer.createText("."+e.id+"{"+e.fn()+"}")},e.prototype.updateStyleValue=function(e,t){var r=t;this.rootService.renderer.removeChild(e.styleContainer,e.styleContent),this.rootService.renderer.appendChild(e.styleContainer,r),this._styleMap.set(e.key,Object.assign({},e,{styleContainer:e.styleContainer,styleContent:r}))},e.prototype.updateOthersStyles=function(){var r=this;this._styleMap.forEach(function(e){var t=r.createStyleContent(e);r.updateStyleValue(e,t)})},e.prototype.updateClass=function(e,t,r,n){n&&t.removeClass(e.nativeElement,n.id),t.addClass(e.nativeElement,r.id)},e.prototype.updateClassName=function(e,t,r,n){n&&t.removeClass(e,n),t.addClass(e,r)},e.prototype.setCoreStyle=function(){var e=this;if(this.isRoot){var t=this.setStyle("body",function(){return"background-color:"+e.palette.background.primary+";color:"+e.palette.text["default"]+";font-family:"+e.palette.typography.fontFamily+";margin:0;"});this.rootService.renderer.addClass(this.document.body,t)}},e}();function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=function(e){return e&&"object"==typeof e};return e.reduce(function(n,o){return Object.keys(o).forEach(function(e){var t=n[e],r=o[e];Array.isArray(t)&&Array.isArray(r)?n[e]=t.concat.apply(t,l(r)):i(t)&&i(r)?n[e]=C(t,r):n[e]=r}),n},{})}function w(e){for(var t=0,r=e.length,n=0;n<r;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t.toString(36)}S.decorators=[{type:s.Injectable}],S.ctorParameters=function(){return[{type:f,decorators:[{type:s.Inject,args:[a]}]},{type:undefined,decorators:[{type:s.Inject,args:[p]}]},{type:undefined,decorators:[{type:s.Inject,args:[r.DOCUMENT]}]},{type:m}]};var I=n,_=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,3,0,0,1,1,0,0,2,1,-1],[0,1,5,0,0,2,2,0,0,3,1,-2],[0,1,8,0,0,3,4,0,0,3,3,-2],[0,2,4,-1,0,4,5,0,0,1,10,0],[0,3,5,-1,0,5,8,0,0,1,14,0],[0,3,5,-1,0,6,10,0,0,1,18,0],[0,4,5,-2,0,7,10,1,0,2,16,1],[0,5,5,-3,0,8,10,1,0,3,14,2],[0,5,6,-3,0,9,12,1,0,3,16,2],[0,6,6,-3,0,10,14,1,0,4,18,3],[0,6,7,-4,0,11,15,1,0,4,20,3],[0,7,8,-4,0,12,17,2,0,5,22,4],[0,7,8,-4,0,13,19,2,0,5,24,4],[0,7,9,-4,0,14,21,2,0,5,26,4],[0,8,9,-5,0,15,22,2,0,6,28,5],[0,8,10,-5,0,16,24,2,0,6,30,5],[0,8,11,-5,0,17,26,2,0,6,32,5],[0,9,11,-5,0,18,28,2,0,7,34,6],[0,9,12,-6,0,19,29,2,0,7,36,6],[0,10,13,-6,0,20,31,3,0,8,38,7],[0,10,13,-6,0,21,33,3,0,8,40,7],[0,10,14,-6,0,22,35,3,0,8,42,7],[0,11,14,-7,0,23,36,3,0,9,44,8],[0,11,15,-7,0,24,38,3,0,9,46,8]];function E(e,t){void 0===e&&(e=1),void 0===t&&(t="#000");var r=I(t),n=[r.alpha(.2).css(),r.alpha(.14).css(),r.alpha(.12).css()],o=_[e];return"box-shadow:"+o[0]+"px "+o[1]+"px "+o[2]+"px "+o[3]+"px "+n[0]+","+o[4]+"px "+o[5]+"px "+o[6]+"px "+o[7]+"px "+n[1]+","+o[8]+"px "+o[9]+"px "+o[10]+"px "+o[11]+"px "+n[2]+";"}var O=function(){function e(){}return Object.defineProperty(e.prototype,"generate",{get:function(){return Math.random()+Date.now()},enumerable:!0,configurable:!0}),e}();function R(e){var t=e.toString(16);return t.length<2&&(t="0"+t),t}function j(e,t,r,n){return{red:e,green:t,blue:r,alpha:n,toHex:function(){return R(e)+R(t)+R(r)}}}O.decorators=[{type:s.Injectable}];var T=function(e,t){var n=e.alpha;function r(e,t){var r=Math.floor((1-n)*t+n*e);return 255<r?255:r}return j(r(e.red,t.red),r(e.green,t.green),r(e.blue,t.blue))};function x(e,t,r){return r<0&&(r+=1),1<r&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var M={rgba:function(e){var t=(e=e.replace("rgba(","").replace(")","").replace(" ","")).split(",");return j(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),parseFloat(t[3])||1)},hex:function(t){var e=[];function r(e){switch(t.length){case 3:return t[e]+t[e];default:return t[e*=2]+t[e+1]}}t=(t=t.replace("#","")).replace("#","");for(var n=0;n<t.length;n++)e.push(parseInt(r(n),16));return j(e[0],e[1],e[2],1)},hsla:function(e){e=(e=e.replace("hsla(","").replace("hsl(","").replace(")","").replace(" ","")).split(",");var t,r,n,o=parseInt(e[0],10)/360,i=parseInt(e[1],10)/100,a=parseInt(e[2],10)/100,s=parseFloat(e[3])||1;if(0==i)t=r=n=a;else{var c=a<.5?a*(1+i):a+i-a*i,u=2*a-c;t=x(u,c,o+1/3),r=x(u,c,o),n=x(u,c,o-1/3)}return j(Math.round(255*t),Math.round(255*r),Math.round(255*n),s)}};function A(e){return M[(t=e,-1!==t.indexOf("rgba")||-1!==t.indexOf("rgb")?"rgba":-1!==t.indexOf("hsla")||-1!==t.indexOf("hsl")?"hsla":"hex")](e);var t}function D(e){return e.replace(/^\s+|\s+$/gm,"")}function N(e){var t=(e=Number(e)).toString(16);return 1===t.length?"0"+t:t}function P(e){var t=e;return N((t=(t=(t=(t="rgba"===t.substr(0,4)?t.slice(5):t.slice(4)).slice(0,-1)).replace(" ","")).split(","))[0])+N(t[1])+N(t[2])}function B(e){return"string"==typeof e?"number"==typeof(e=1*(e=e.slice(0,-1)).split(",")[3])&&(e=1):e=1,e}function F(e,t){void 0===t&&(t=-1);var r=e,n={r:0,g:0,b:0,a:0};if(-1===t&&(t=B(e)),"rgba"===(e=String(e)).substr(0,4)&&e.split(",")[3]&&(t=parseFloat(e.split(",")[3].replace(")","")),6!==(e=String(e)).length&&3!==e.length&&(e=P(e))),e!==undefined&&null!==e&&"transparent"!==e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return t+t+r+r+n+n});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=0,a=0,s=0;return o&&(i=parseInt(o[1],16),a=parseInt(o[2],16),s=parseInt(o[3],16)),o?{json:{r:i,g:a,b:s,a:t},color:"rgba("+i+", "+a+", "+s+", "+t+")"}:{json:n,color:""+r}}return{json:n,color:"rgba(0, 0, 0, 0)"}}var k=new s.InjectionToken("ly.global.contrast"),L=function(){function e(e){this._viewRef=e,this.ngTranscludeChange=new s.EventEmitter,this.viewRef=e}return Object.defineProperty(e.prototype,"ngTransclude",{get:function(){return this._ngTransclude},set:function(e){(this._ngTransclude=e)&&this.viewRef.createEmbeddedView(e)},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.ngTranscludeChange.emit(!0)},e.prototype.ngOnDestroy=function(){this.viewRef.detach()},e}();L.decorators=[{type:s.Directive,args:[{selector:"[ngTransclude]"}]}],L.ctorParameters=function(){return[{type:s.ViewContainerRef}]},L.propDecorators={ngTransclude:[{type:s.Input}],ngTranscludeChange:[{type:s.Output}]};var V=function(){};function H(e){return null!=e&&""+e!="false"}function Y(e){return[[S],{provide:a,useValue:e}]}V.decorators=[{type:s.NgModule,args:[{exports:[L],declarations:[L]}]}];var q=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[Y(e),{provide:p,useValue:!0}]}},t.forChild=function(e){return{ngModule:t,providers:[Y(e),{provide:p,useValue:!1}]}},t}();q.decorators=[{type:s.NgModule}];var U={providedIn:q},K=function(){function e(e){this.theme=e,this.elevation=1}return e.prototype.setShadow=function(e,t,r,n){var o,i,a=this,s="colorShadow";r?(o=r.join(""),i=r[0],s=r[1]||s):(o=""+this.elevation+s,i=this.elevation);var c=this.theme.setStyle("shadow"+o,function(){return""+E(i,a.theme.colorOf(s))});return this.theme.updateClassName(e.nativeElement,t,c,n),c},e}();K.decorators=[{type:s.Injectable,args:[U]}],K.ctorParameters=function(){return[{type:S}]},K.ngInjectableDef=s.defineInjectable({factory:function(){return new K(s.inject(S))},token:K,providedIn:q});var G=function(){function e(e,t,r,n,o){this.theme=e,this.renderer=t,this.elementRef=r,this.shadow=n,this.contrast=o,this.elevation=3}return Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},set:function(e){this._bg=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raised",{get:function(){return this._raisedState},set:function(e){this._raisedState=H(e)},enumerable:!0,configurable:!0}),e.prototype.setAutoContrast=function(){this.contrast=!0},e.prototype.ngOnChanges=function(e){var t,r=this,n=!0===this._raisedState?"raised":"",o="";if((this.contrast&&!this.color||"auto"===this.color)&&this.bg)o="contrast"+this.bg+this._raisedState+this.elevation,t=this.theme.setStyle("ly-"+o,this.contrastStyle.bind(this));else if(this.bg&&this.color)o="b&ĸ"+this.bg+this.color+this._raisedState+this.elevation,t=this.theme.setStyle("ly-"+o,this.bgColorStyle.bind(this));else if(this.raised&&!this.bg)o=n+this.color||"",t=this.theme.setStyle("ly-"+o,function(){var e,t="background-color:"+r.theme.palette.background.primary+";";return r.color?t+="color:"+(e=r.theme.colorOf(r.color))+";":e=r.theme.palette.colorShadow,r._raisedState&&(t+=E(r.elevation,e)),t});else if(this.bg||this.color){var i=this.bg?["bg","background",this.bg]:["ĸ","color",this.color];o=""+i[0]+i[2]+this._raisedState+this.elevation,t=this.theme.setStyle("ly-"+o,function(){var e=r.theme.colorOf(r.bg||r.color),t=i[1]+":"+e+";";return r._raisedState&&(t+=E(r.elevation,e)),t})}else o="raised"+this._raisedState+this.elevation,t=this.theme.setStyle("ly-"+o,function(){return r._raisedState?E(r.elevation,r.theme.palette.colorShadow):E(0,r.theme.palette.colorShadow)});this.theme.updateClassName(this.elementRef.nativeElement,this.renderer,t,this._currentClassName),this._currentClassName=t},e.prototype.contrastStyle=function(){var e=this.theme.colorOf(this.bg);this._color=this.theme.colorOf(this.bg+":contrast");var t="background:"+e+";color:"+this._color+";";return this._raisedState&&(t+=E(this.elevation,e)),t},e.prototype.bgColorStyle=function(){var e=this.theme.colorOf(this.bg),t="background:"+e+";color:"+this.theme.colorOf(this.color)+";";return this._raisedState&&(t+=E(this.elevation,e)),t},e}();G.decorators=[{type:s.Directive,args:[{selector:"[bg], [color], [raised]"}]}],G.ctorParameters=function(){return[{type:S},{type:s.Renderer2},{type:s.ElementRef},{type:K},{type:undefined,decorators:[{type:s.Inject,args:[k]},{type:s.Optional}]}]},G.propDecorators={bg:[{type:s.Input}],color:[{type:s.Input}],raised:[{type:s.Input}],elevation:[{type:s.Input}]};var z=function(){function e(e,t,r){this.elementRef=e,this.renderer=t,this.shadow=r,this.elevation=3}return Object.defineProperty(e.prototype,"newRaised",{set:function(e){this.currentClassName=this.shadow.setShadow(this.elementRef,this.renderer,[e[0]||this.elevation,e[1]||"colorShadow"],this.currentClassName)},enumerable:!0,configurable:!0}),e}();z.decorators=[{type:s.Directive,args:[{selector:":not([raised])[newRaised]"}]}],z.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Renderer2},{type:K}]},z.propDecorators={newRaised:[{type:s.Input}]};var Z=function(){};Z.decorators=[{type:s.NgModule,args:[{declarations:[G,z],exports:[G,z],providers:[{provide:k,useValue:!1}]}]}];var W=function(){function e(){if(g.isBrowser){var e=document.createElement("ly-overlay-container");document.body.appendChild(e),this._containerElement=e}}return Object.defineProperty(e.prototype,"containerElement",{get:function(){return this._containerElement},enumerable:!0,configurable:!0}),e}();W.decorators=[{type:s.Injectable}],W.ctorParameters=function(){return[]};var $=function(){function e(e,t){this.componentFactoryResolver=e,this.overlayContainer=t}return e.prototype.attach=function(e,t,r){var n=this,o=e.createEmbeddedView(r);o.detectChanges(),this._viewContainerRef=e,o.rootNodes.forEach(function(e){return n.addChild(e)})},e.prototype.addChild=function(e){this.overlayContainer.containerElement.appendChild(e)},e.prototype.getDomElementFromComponentRef=function(e){return e.hostView.rootNodes[0]},e.prototype.destroyRef=function(e,t){var r=this;setTimeout(function(){r._viewContainerRef&&(r._viewContainerRef.detach(),r._viewContainerRef.clear())},t)},e}();function X(e){return e||new W}$.decorators=[{type:s.Injectable}],$.ctorParameters=function(){return[{type:s.ComponentFactoryResolver},{type:W}]};var Q={provide:W,deps:[[new s.Optional,new s.SkipSelf,W]],useFactory:X},J=function(){};J.decorators=[{type:s.NgModule,args:[{imports:[r.CommonModule],providers:[[$,Q]]}]}];var ee={DEFAULT:"default",KEYBOARD:"keyboard"},te=function(){function e(e,t,r,n){var o=this;if(this._ngZone=t,this._renderer=r,this.stateMap=new Map,this._eventHandlers=new Map,this._stateSubject=new c.Subject,this.lyFocusChange=new s.EventEmitter,this._eventOptions={passive:!0},g.isBrowser){this._eventHandlers.set("focus",this.on.bind(this)).set("blur",this.on.bind(this)).set("touchstart",this.on.bind(this)).set("mousedown",this.on.bind(this));var i=e.nativeElement;this.setTriggerElement(i);var a=this._stateSubject.asObservable();this._stateSubscription=a.pipe(u.debounceTime(111)).subscribe(function(e){o.state=e,o._updateClass(),o.lyFocusChange.emit(e)})}}return e.prototype._updateState=function(){var e;this.stateMap.has("blur")?this.stateMap.clear():this.stateMap.has("focus")&&this.stateMap.has("mousedown")||this.stateMap.has("focus")&&this.stateMap.has("touchstart")?e=ee.DEFAULT:this.stateMap.has("focus")&&(e=ee.KEYBOARD),this._stateSubject.next(e)},e.prototype.on=function(e){this.stateMap.set(e.type,!0),this._updateState()},e.prototype._updateClass=function(){var r=this,n=this._containerElement,e=this.state,t=function(e,t){return t?r._renderer.addClass(n,e):r._renderer.removeClass(n,e)};for(var o in t("ly-focused",!!e),ee)if(ee.hasOwnProperty(o)){var i=ee[o];t("ly-"+i+"-focused",e===i)}},e.prototype.setTriggerElement=function(r){var n=this;this._containerElement&&this._eventHandlers.forEach(function(e,t){n._containerElement.removeEventListener(t,e,n._eventOptions)}),r&&this._ngZone.runOutsideAngular(function(){return n._eventHandlers.forEach(function(e,t){return r.addEventListener(t,e,n._eventOptions)})}),this._containerElement=r},e.prototype.ngOnDestroy=function(){g.isBrowser&&(this._stateSubscription.unsubscribe(),this.setTriggerElement(null))},e}();te.decorators=[{type:s.Directive,args:[{selector:"[lyFocusState]",exportAs:"lyFocusState"}]}],te.ctorParameters=function(){return[{type:s.ElementRef},{type:s.NgZone},{type:s.Renderer2},{type:s.ChangeDetectorRef}]},te.propDecorators={lyFocusChange:[{type:s.Output}]};var re=function(){};re.decorators=[{type:s.NgModule,args:[{imports:[r.CommonModule],declarations:[te],exports:[te]}]}];var ne=function(e){this.theme=e,this.classes={}};ne.decorators=[{type:s.Injectable,args:[{providedIn:q}]}],ne.ctorParameters=function(){return[{type:S}]},ne.ngInjectableDef=s.defineInjectable({factory:function(){return new ne(s.inject(S))},token:ne,providedIn:q});var oe=function(e){this.theme=e,this.classes={Absolute:this.theme.setRootStyle("Absolute",function(){return"position: absolute;top: 0;bottom: 0;left: 0;right: 0;"})}};oe.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],oe.ctorParameters=function(){return[{type:S}]},oe.ngInjectableDef=s.defineInjectable({factory:function(){return new oe(s.inject(S))},token:oe,providedIn:"root"}),t.getContrastYIQ=function(e){return 128<=(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3?"black":"white"},t.LyTheme=S,t.mergeDeep=C,t.parsePalette=function(e){var o=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=t?t+"__"+r:r;null!==e[r]&&"string"==typeof e[r]&&"default"!==r&&(e[r]={"default":e[r]}),"object"==typeof e[r]&&o(e[r],n)}return e};return o(Object.assign({},e))},t.shadowBuilder=E,t.RandomId=O,t.getParents=function(e,t){t===undefined&&(t="body");for(var r=[],n=e.parentNode,o=null;!o;){var i=n;r.push(i),o=(n=i.parentNode).querySelector(t)}return r[r.length-1]},t.THEME_VARIABLES=a,t.IS_CORE_THEME=p,t.StyleMap=d,t.ThemeVariables=f,t.LyRootService=m,t.Platform=g,t.Color=j,t.trim=D,t.rgbaToHex=function(e){var t=e.substring(e.indexOf("(")).split(","),r=parseInt(D(t[0].substring(1)),10),n=parseInt(D(t[1]),10),o=parseInt(D(t[2]),10),i=parseFloat(D(t[3].substring(0,t[3].length-1))).toFixed(2);return"#"+r.toString(16)+n.toString(16)+o.toString(16)+(255*Number(i)).toString(16).substring(0,2)},t.componentToHex=N,t.toRgb=function(e,t){return F(T(A(e),A("#ffffff")).toHex(),t||1)},t.converterToHex=function(e){return T(A(e),A("#ffffff")).toHex()},t.rgbToHex=P,t.rgbTransparent=B,t.hexToRgba=F,t.LyCommonModule=Z,t.NgTranscludeDirective=L,t.NgTranscludeModule=V,t.exactPosition=function(e){var t,r,n,o,i={top:0,left:0},a=e&&e.ownerDocument;return t=a.documentElement,typeof e.getBoundingClientRect!=typeof undefined&&(i=e.getBoundingClientRect()),r=null!==(o=n=a)&&o===o.window?n:9===n.nodeType&&n.defaultView,{top:i.top+r.pageYOffset-t.clientTop,left:i.left+r.pageXOffset-t.clientLeft}},t.toBoolean=H,t.IsBoolean=function(){return function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);r?Object.defineProperty(e,t,{get:r.get,set:function(e){r.set(H(e))},enumerable:!0,configurable:!0}):Object.defineProperty(e,t,{get:function(){return this["__"+t]},set:function(e){this["__"+t]=H(e)},enumerable:!0,configurable:!0})}},t.DomService=$,t.LY_OVERLAY_CONTAINER_PROVIDER_FACTORY=X,t.LY_OVERLAY_CONTAINER_PROVIDER=Q,t.LxDomModule=J,t.LyFocusStateModule=re,t.FocusStatus=ee,t.LyFocusState=te,t.provideTheme=Y,t.AlyleUIModule=q,t.ProvidedInTheme=U,t.AUI_VERSION="1.7.0-beta.6yqz",t.AUI_LAST_UPDATE="2018-05-19T00:08:37.115Z",t.LY_GLOBAL_CONTRAST=k,t.LyBgColorAndRaised=G,t.LyShadowService=K,t.LyThemeStyles=ne,t.LyGlobalStyles=oe,t.ɵb=W,t.ɵa=z,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui.umd.min.js.map
